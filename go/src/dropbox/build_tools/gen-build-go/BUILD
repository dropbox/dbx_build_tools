# @generated: This file was generated by bzl. Do not modify!
# Argument overrides and custom targets should be specified in BUILD.in.

load("//build_tools/go:go.bzl", "dbx_go_binary", "dbx_go_test")
load("@rules_pkg//:pkg.bzl", "pkg_tar")

dbx_go_binary(
    name = "gen-build-go",
    srcs = [
        "gen-build-go.go",
    ],
    visibility = [
        "//visibility:public",
    ],
    deps = [
        "//go/src/dropbox/build_tools/gen-build-go/lib",
    ],
)

pkg_tar(
    name = "gen-build-go-pkg",
    srcs = [
        ":gen-build-go",
    ],
    extension = "tar.gz",
    include_runfiles = True,
    strip_prefix = ".",
)

exports_files(
    ["config.json"],
    visibility = ["//visibility:public"],
)

filegroup(
    name = "srcs",
    data = glob(
        ["*.go"],
        exclude = ["*_test.go"],
    ) + [
        "go.mod",
        "go.sum",
        "//go/src/dropbox/build_tools/gen-build-go/lib:srcs",
    ],
    visibility = ["//visibility:public"],
)
