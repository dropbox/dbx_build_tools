# @generated: This file was generated by bzl. Do not modify!
# Argument overrides and custom targets should be specified in BUILD.in.

package(default_visibility = [
    "//build_tools:__subpackages__",
])

load("//build_tools/py:py.bzl", "dbx_py_library", "dbx_py_pytest_test")

dbx_py_library(
    name = "commands",
    srcs = ["commands.py"],
    validate = "strict",
    deps = [
        ":exec_wrapper",
        "//build_tools:bazel_utils",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "gazel_lib",
    srcs = [
        "gazel.py",
        "gen_build_go.py",
        "gen_build_py.py",
        "gen_commands.py",
        "gen_describe.py",
        "generator.py",
    ],
    data = [
        "//build_tools:buildfmt",
        "//go/src/dropbox/build_tools/gen-build-go",
        "//go/src/dropbox/build_tools/gen-build-go:config.json",
    ],
    validate = "strict",
    deps = [
        ":build_merge_lib",
        ":cache",
        ":cfg",
        ":metrics",
        ":parse_py_imports_lib",
        ":run",
        ":selenium_build_util_lib",
        "//build_tools:bazel_utils",
        "//build_tools:build_parser_lib",
        "//dropbox:runfiles",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "parse_py_imports_lib",
    srcs = [
        "parse_py_imports.py",
    ],
    validate = "strict",
    visibility = ["//visibility:public"],
)

dbx_py_library(
    name = "build_merge_lib",
    srcs = [
        "build_merge.py",
    ],
    data = ["//go/src/dropbox/build_tools/build-merge"],
    validate = "strict",
    deps = [
        "//dropbox:runfiles",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "exec_wrapper",
    srcs = ["exec_wrapper.py"],
    validate = "strict",
    deps = [
        ":metrics",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "metrics",
    srcs = ["metrics.py"],
    validate = "strict",
    deps = [
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "run",
    srcs = ["run.py"],
    validate = "strict",
    deps = [
        "//build_tools/go:env",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "cache",
    srcs = ["cache.py"],
    validate = "strict",
    deps = [
        ":cfg",
        "//build_tools:build_parser_lib",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "core",
    srcs = ["core.py"],
    validate = "strict",
    deps = [
        ":commands",
        ":exec_wrapper",
        ":metrics",
        "//build_tools:bazel_utils",
        "//build_tools/bzl_lib/itest",
        "//pip/typing",
    ],
)

dbx_py_library(
    name = "cfg",
    srcs = ["cfg.py"],
    validate = "strict",
)

dbx_py_library(
    name = "selenium_build_util_lib",
    srcs = [
        "selenium_build_util.py",
    ],
    validate = "strict",
    visibility = [
        "//build_tools:__subpackages__",
        "//selenium_tests/config:__subpackages__",
    ],
    deps = [
        "//build_tools:bazel_utils",
        "//build_tools:build_parser_lib",
        "//pip/typing",
    ],
)

dbx_py_pytest_test(
    name = "selenium_build_util_tests",
    srcs = [
        "selenium_build_util_tests.py",
    ],
    deps = [
        ":selenium_build_util_lib",
    ],
)
